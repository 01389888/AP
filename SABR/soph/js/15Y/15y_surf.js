Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.81699,0.75962,0.71047,0.66741,0.62903,0.59438,0.56275,0.53363,0.50662,0.48141,0.45776,0.43547,0.41438,0.39436,0.3753,0.35712,0.33973,0.3231,0.30717,0.29194,0.27739,0.26355,0.25047,0.23822,0.22693,0.21674,0.20784,0.20042,0.1946,0.19044,0.18787,0.18673,0.18677,0.18776,0.18947,0.19172,0.19436,0.19728,0.20039,0.20363,0.20696,0.21032,0.21371,0.21709,0.22046,0.2238],
[0.98257,0.90856,0.84503,0.78926,0.73949,0.69448,0.65335,0.61544,0.58024,0.54736,0.5165,0.48739,0.45985,0.4337,0.40883,0.38513,0.36255,0.34106,0.32068,0.30148,0.28361,0.26735,0.25311,0.24146,0.23302,0.22832,0.22741,0.22982,0.23476,0.24142,0.24914,0.25748,0.26612,0.27487,0.28361,0.29224,0.30074,0.30906,0.31719,0.32513,0.33286,0.3404,0.34773,0.35488,0.36184,0.36862],
[0.72536,0.67424,0.63053,0.59229,0.55829,0.52765,0.49977,0.47418,0.45054,0.42858,0.40808,0.3889,0.37089,0.35395,0.33802,0.32304,0.30898,0.29584,0.28363,0.27239,0.26218,0.25308,0.24519,0.23859,0.23337,0.22956,0.22713,0.226,0.22602,0.22703,0.22884,0.23127,0.23419,0.23747,0.241,0.24471,0.24854,0.25243,0.25636,0.26029,0.26421,0.2681,0.27195,0.27575,0.2795,0.28319],
[0.60297,0.56387,0.5306,0.50165,0.47604,0.45308,0.43231,0.41335,0.39595,0.37989,0.36501,0.35119,0.33832,0.32633,0.31515,0.30474,0.29506,0.28609,0.27781,0.27021,0.26328,0.25703,0.25144,0.24652,0.24226,0.23864,0.23564,0.23323,0.23138,0.23004,0.22916,0.22871,0.22861,0.22884,0.22934,0.23007,0.231,0.23209,0.23332,0.23466,0.23609,0.23759,0.23915,0.24075,0.24239,0.24405],
[0.52945,0.49748,0.47043,0.44702,0.4264,0.40802,0.39147,0.37644,0.36272,0.35013,0.33852,0.3278,0.31787,0.30866,0.30012,0.2922,0.28485,0.27805,0.27177,0.26599,0.26067,0.25582,0.2514,0.2474,0.2438,0.24059,0.23775,0.23525,0.23308,0.23122,0.22964,0.22833,0.22725,0.2264,0.22575,0.22528,0.22498,0.22482,0.22479,0.22488,0.22506,0.22534,0.2257,0.22613,0.22661,0.22715],
[0.48221,0.45522,0.43249,0.41291,0.39575,0.3805,0.36682,0.35445,0.34318,0.33287,0.32339,0.31464,0.30655,0.29904,0.29208,0.2856,0.27958,0.27397,0.26876,0.2639,0.25939,0.2552,0.25131,0.24771,0.24437,0.2413,0.23846,0.23585,0.23345,0.23126,0.22926,0.22744,0.22578,0.22429,0.22294,0.22172,0.22064,0.21967,0.21882,0.21806,0.2174,0.21683,0.21633,0.21591,0.21556,0.21527],
[0.42899,0.40897,0.39236,0.37824,0.366,0.35525,0.3457,0.33714,0.32939,0.32236,0.31592,0.31001,0.30457,0.29953,0.29485,0.2905,0.28644,0.28265,0.2791,0.27576,0.27263,0.26969,0.26692,0.2643,0.26183,0.2595,0.25729,0.2552,0.25322,0.25134,0.24956,0.24787,0.24626,0.24473,0.24327,0.24189,0.24057,0.23931,0.23811,0.23697,0.23588,0.23484,0.23384,0.23289,0.23198,0.23111],
[0.3737,0.35638,0.34221,0.33034,0.32021,0.31144,0.30378,0.29702,0.29102,0.28567,0.28086,0.27653,0.27262,0.26907,0.26585,0.26291,0.26024,0.25779,0.25555,0.2535,0.25162,0.24988,0.24829,0.24683,0.24548,0.24423,0.24309,0.24203,0.24105,0.24014,0.2393,0.23853,0.23781,0.23715,0.23653,0.23596,0.23543,0.23494,0.23449,0.23407,0.23368,0.23332,0.23298,0.23267,0.23238,0.23212],
[0.51809,0.48662,0.45991,0.43672,0.41625,0.39795,0.38142,0.36638,0.3526,0.33991,0.32819,0.31732,0.30722,0.29782,0.28907,0.28092,0.27333,0.26628,0.25973,0.25367,0.24809,0.24295,0.23826,0.23399,0.23014,0.22668,0.2236,0.22089,0.21853,0.21649,0.21475,0.2133,0.21211,0.21115,0.21042,0.20987,0.20951,0.2093,0.20923,0.20928,0.20944,0.2097,0.21004,0.21045,0.21093,0.21146],
[0.59403,0.55738,0.52574,0.49787,0.47294,0.45038,0.42978,0.41084,0.39331,0.37701,0.3618,0.34756,0.33421,0.32168,0.30991,0.29886,0.28851,0.27884,0.26983,0.26149,0.25382,0.24684,0.24054,0.23493,0.23002,0.22579,0.22224,0.21933,0.21702,0.21527,0.21402,0.21322,0.21281,0.21275,0.21297,0.21344,0.21412,0.21497,0.21597,0.21708,0.21829,0.21958,0.22093,0.22232,0.22376,0.22522]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
