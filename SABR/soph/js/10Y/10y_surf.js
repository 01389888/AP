Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.76482,0.71093,0.66477,0.62433,0.58829,0.55574,0.52604,0.49869,0.47332,0.44965,0.42744,0.40651,0.38671,0.36791,0.35002,0.33294,0.31663,0.30102,0.28608,0.27181,0.25819,0.24525,0.23304,0.22166,0.2112,0.20184,0.19374,0.18707,0.18196,0.17841,0.17634,0.17556,0.17586,0.17699,0.17876,0.181,0.18358,0.1864,0.18938,0.19247,0.19563,0.19882,0.20202,0.20521,0.20839,0.21154],
[0.98636,0.91188,0.84794,0.79182,0.74172,0.69642,0.65503,0.61687,0.58145,0.54836,0.51729,0.488,0.46027,0.43396,0.40893,0.38508,0.36237,0.34076,0.32029,0.30103,0.28315,0.26695,0.25287,0.24151,0.2335,0.22933,0.22897,0.23188,0.23721,0.24416,0.2521,0.26061,0.26937,0.27822,0.28704,0.29574,0.30429,0.31267,0.32084,0.32882,0.33659,0.34416,0.35154,0.35872,0.36571,0.37252],
[0.73239,0.68071,0.63651,0.59785,0.56347,0.5325,0.50431,0.47844,0.45454,0.43234,0.41162,0.39223,0.37402,0.35691,0.34081,0.32568,0.31148,0.29822,0.28591,0.27458,0.26431,0.25517,0.24727,0.24069,0.23552,0.23178,0.22944,0.22841,0.22854,0.22965,0.23155,0.23408,0.23709,0.24044,0.24405,0.24782,0.25171,0.25566,0.25965,0.26364,0.26761,0.27155,0.27544,0.27929,0.28308,0.28681],
[0.64015,0.59862,0.56329,0.53254,0.50534,0.48096,0.4589,0.43876,0.42028,0.40322,0.38742,0.37274,0.35907,0.34634,0.33447,0.32341,0.31314,0.30361,0.29482,0.28676,0.27941,0.27277,0.26685,0.26164,0.25712,0.25329,0.25012,0.24759,0.24564,0.24423,0.24332,0.24285,0.24276,0.24302,0.24356,0.24435,0.24535,0.24652,0.24783,0.24927,0.25079,0.25239,0.25405,0.25576,0.25751,0.25927],
[0.57418,0.53951,0.51018,0.48479,0.46244,0.4425,0.42456,0.40826,0.39338,0.37973,0.36714,0.35551,0.34475,0.33476,0.3255,0.31691,0.30895,0.30157,0.29476,0.28849,0.28273,0.27747,0.27267,0.26834,0.26444,0.26096,0.25788,0.25517,0.25282,0.2508,0.24909,0.24767,0.24651,0.24559,0.24488,0.24438,0.24405,0.24388,0.24385,0.24394,0.24415,0.24445,0.24484,0.2453,0.24583,0.24642],
[0.52891,0.49933,0.47443,0.45297,0.43416,0.41746,0.40247,0.38891,0.37656,0.36525,0.35486,0.34527,0.3364,0.32818,0.32054,0.31344,0.30683,0.30068,0.29495,0.28963,0.28467,0.28007,0.2758,0.27183,0.26817,0.26478,0.26166,0.25879,0.25615,0.25373,0.25153,0.24952,0.24769,0.24604,0.24454,0.2432,0.242,0.24093,0.23998,0.23914,0.2384,0.23776,0.23721,0.23674,0.23634,0.23601],
[0.43981,0.41928,0.40225,0.38777,0.37523,0.3642,0.35441,0.34562,0.33769,0.33047,0.32387,0.31781,0.31222,0.30705,0.30225,0.29778,0.29362,0.28972,0.28608,0.28266,0.27944,0.27642,0.27357,0.27088,0.26835,0.26595,0.26368,0.26153,0.2595,0.25757,0.25574,0.254,0.25234,0.25077,0.24927,0.24785,0.24649,0.2452,0.24397,0.24279,0.24167,0.2406,0.23957,0.2386,0.23766,0.23677],
[0.39386,0.37549,0.36046,0.34787,0.33711,0.32781,0.31967,0.31249,0.30611,0.30042,0.2953,0.2907,0.28653,0.28276,0.27933,0.2762,0.27335,0.27074,0.26835,0.26617,0.26416,0.26231,0.26062,0.25906,0.25762,0.25629,0.25507,0.25394,0.25289,0.25193,0.25104,0.25021,0.24945,0.24874,0.24809,0.24748,0.24692,0.2464,0.24592,0.24547,0.24506,0.24467,0.24432,0.24399,0.24369,0.24341],
[0.53922,0.50661,0.47894,0.4549,0.43369,0.41471,0.39757,0.38197,0.36767,0.35451,0.34233,0.33104,0.32055,0.31077,0.30166,0.29317,0.28526,0.2779,0.27105,0.26471,0.25885,0.25345,0.24851,0.244,0.23991,0.23624,0.23295,0.23005,0.2275,0.22529,0.22339,0.2218,0.22047,0.2194,0.21856,0.21792,0.21747,0.21719,0.21706,0.21706,0.21718,0.2174,0.21772,0.21811,0.21857,0.2191],
[0.57534,0.53987,0.50928,0.48234,0.45827,0.4365,0.41664,0.39837,0.38147,0.36576,0.3511,0.33738,0.32451,0.31243,0.30108,0.29042,0.28042,0.27106,0.26233,0.25423,0.24677,0.23993,0.23375,0.22821,0.22332,0.21908,0.21548,0.21249,0.21007,0.2082,0.20682,0.20588,0.20532,0.20511,0.2052,0.20553,0.20607,0.20679,0.20766,0.20866,0.20975,0.21092,0.21217,0.21346,0.2148,0.21616]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
