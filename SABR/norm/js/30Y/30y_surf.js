Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.8227,0.76404,0.71377,0.66971,0.63043,0.59494,0.56254,0.53269,0.505,0.47914,0.45487,0.43198,0.41031,0.38974,0.37013,0.35142,0.33352,0.3164,0.3,0.28432,0.26937,0.25519,0.24186,0.22948,0.21824,0.20833,0.20001,0.19348,0.18883,0.18602,0.18485,0.18506,0.18634,0.18842,0.19108,0.19415,0.1975,0.20103,0.20468,0.2084,0.21214,0.21589,0.21963,0.22333,0.22699,0.2306],
[1.0058,0.92916,0.86338,0.80564,0.75409,0.70747,0.66485,0.62556,0.58907,0.55499,0.52297,0.49278,0.46419,0.43705,0.41122,0.38662,0.36318,0.34089,0.31978,0.29997,0.28166,0.26522,0.25118,0.24027,0.23319,0.23033,0.23148,0.23582,0.2424,0.25039,0.25919,0.26841,0.27778,0.28715,0.29643,0.30555,0.31448,0.3232,0.3317,0.33997,0.34803,0.35587,0.3635,0.37093,0.37815,0.38519],
[0.7673,0.7134,0.66733,0.62707,0.59128,0.55907,0.52977,0.50291,0.47812,0.45511,0.43368,0.41364,0.39487,0.37726,0.36074,0.34526,0.3308,0.31736,0.30495,0.29361,0.28342,0.27444,0.26676,0.26045,0.25556,0.25207,0.24993,0.24903,0.24922,0.25033,0.25219,0.25464,0.25754,0.26079,0.26428,0.26795,0.27174,0.27561,0.27951,0.28342,0.28733,0.29121,0.29506,0.29887,0.30262,0.30632],
[0.64383,0.60204,0.5665,0.53559,0.50826,0.48378,0.46164,0.44145,0.42293,0.40585,0.39005,0.37539,0.36175,0.34907,0.33728,0.32631,0.31615,0.30675,0.29811,0.29021,0.28304,0.27661,0.27089,0.26589,0.26159,0.25797,0.25499,0.25263,0.25084,0.24958,0.24878,0.24839,0.24838,0.24868,0.24926,0.25006,0.25106,0.25222,0.25352,0.25492,0.25642,0.25798,0.25961,0.26127,0.26297,0.26469],
[0.57292,0.53836,0.50915,0.48388,0.46165,0.44185,0.42403,0.40786,0.39312,0.37959,0.36715,0.35566,0.34504,0.33521,0.3261,0.31766,0.30985,0.30264,0.29598,0.28987,0.28427,0.27915,0.27451,0.27032,0.26655,0.2632,0.26023,0.25763,0.25537,0.25343,0.25178,0.25041,0.24929,0.2484,0.24771,0.24721,0.24688,0.2467,0.24665,0.24672,0.2469,0.24717,0.24752,0.24794,0.24843,0.24897],
[0.51913,0.49017,0.46582,0.44485,0.42648,0.41019,0.39557,0.38236,0.37034,0.35935,0.34925,0.33993,0.33133,0.32335,0.31595,0.30908,0.30269,0.29674,0.29121,0.28607,0.28129,0.27685,0.27272,0.2689,0.26537,0.2621,0.25909,0.25631,0.25376,0.25142,0.24928,0.24733,0.24555,0.24393,0.24247,0.24115,0.23996,0.2389,0.23795,0.2371,0.23635,0.2357,0.23512,0.23463,0.2342,0.23384],
[0.42877,0.40928,0.39313,0.37942,0.36754,0.35711,0.34784,0.33953,0.33201,0.32517,0.31891,0.31315,0.30784,0.30291,0.29833,0.29406,0.29007,0.28633,0.28282,0.27951,0.2764,0.27346,0.27068,0.26806,0.26556,0.2632,0.26095,0.25882,0.25679,0.25485,0.253,0.25124,0.24956,0.24795,0.24642,0.24495,0.24354,0.24219,0.2409,0.23966,0.23847,0.23732,0.23622,0.23517,0.23415,0.23318],
[0.37186,0.35521,0.34165,0.33032,0.32067,0.31234,0.30507,0.29866,0.29297,0.2879,0.28334,0.27924,0.27552,0.27215,0.26908,0.26628,0.26372,0.26136,0.2592,0.25722,0.25538,0.25369,0.25213,0.25068,0.24933,0.24809,0.24693,0.24585,0.24485,0.24391,0.24304,0.24222,0.24146,0.24075,0.24008,0.23946,0.23887,0.23833,0.23781,0.23733,0.23687,0.23645,0.23604,0.23567,0.23531,0.23498],
[0.50995,0.47874,0.45226,0.42928,0.409,0.39089,0.37454,0.35967,0.34607,0.33355,0.322,0.3113,0.30138,0.29217,0.2836,0.27565,0.26827,0.26142,0.2551,0.24927,0.24393,0.23904,0.2346,0.2306,0.227,0.22381,0.22099,0.21854,0.21642,0.21461,0.2131,0.21186,0.21086,0.21009,0.20951,0.20912,0.20889,0.20879,0.20883,0.20897,0.20921,0.20954,0.20994,0.2104,0.21092,0.21149],
[0.53655,0.50358,0.47505,0.44988,0.42735,0.40695,0.38834,0.37123,0.35541,0.34074,0.32708,0.31435,0.30246,0.29137,0.28103,0.27141,0.26249,0.25427,0.24673,0.23988,0.23372,0.22824,0.22342,0.21927,0.21574,0.21282,0.21045,0.20859,0.20719,0.20619,0.20556,0.20523,0.20517,0.20534,0.2057,0.20622,0.20688,0.20765,0.20851,0.20945,0.21046,0.21151,0.21261,0.21373,0.21489,0.21606]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
