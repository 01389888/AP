Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.74116,0.68827,0.64295,0.60323,0.56782,0.53583,0.50663,0.47972,0.45476,0.43146,0.40959,0.38896,0.36944,0.3509,0.33323,0.31637,0.30025,0.28482,0.27005,0.25594,0.24248,0.22972,0.21772,0.2066,0.1965,0.18762,0.18018,0.17434,0.17021,0.16774,0.16674,0.16696,0.16814,0.17004,0.17245,0.17522,0.17825,0.18144,0.18473,0.18808,0.19145,0.19483,0.19819,0.20152,0.20482,0.20807],
[0.88952,0.82205,0.76412,0.71327,0.66787,0.62681,0.58928,0.55468,0.52256,0.49254,0.46435,0.43777,0.4126,0.38869,0.36595,0.34427,0.32361,0.30393,0.28528,0.26771,0.2514,0.23662,0.2238,0.21353,0.20644,0.20298,0.2031,0.20622,0.21151,0.2182,0.22574,0.23372,0.24189,0.2501,0.25825,0.26627,0.27414,0.28183,0.28934,0.29665,0.30377,0.3107,0.31744,0.32401,0.3304,0.33662],
[0.7248,0.67422,0.63099,0.59321,0.55962,0.52939,0.50188,0.47666,0.45338,0.43177,0.41162,0.39278,0.37511,0.35852,0.34294,0.32831,0.31461,0.30182,0.28997,0.27907,0.26918,0.26037,0.25271,0.24626,0.24109,0.23722,0.23461,0.2332,0.23286,0.23345,0.23481,0.23679,0.23926,0.2421,0.24522,0.24854,0.252,0.25555,0.25916,0.26279,0.26643,0.27005,0.27365,0.27722,0.28074,0.28422],
[0.63201,0.59112,0.55636,0.52612,0.49937,0.47542,0.45375,0.43398,0.41584,0.39912,0.38363,0.36925,0.35588,0.34343,0.33184,0.32105,0.31103,0.30176,0.29322,0.28538,0.27825,0.27183,0.26609,0.26105,0.25668,0.25297,0.2499,0.24743,0.24552,0.24412,0.2432,0.2427,0.24257,0.24275,0.24322,0.24393,0.24483,0.2459,0.24712,0.24845,0.24987,0.25136,0.25292,0.25453,0.25617,0.25783],
[0.57417,0.53959,0.51035,0.48506,0.46281,0.44298,0.42514,0.40895,0.39419,0.38064,0.36818,0.35667,0.34602,0.33617,0.32703,0.31857,0.31073,0.30349,0.29681,0.29066,0.28502,0.27988,0.2752,0.27097,0.26717,0.26377,0.26077,0.25813,0.25583,0.25385,0.25218,0.25077,0.24962,0.2487,0.24798,0.24746,0.2471,0.2469,0.24683,0.24688,0.24704,0.24729,0.24763,0.24804,0.24851,0.24904],
[0.54232,0.51208,0.48665,0.46475,0.44557,0.42855,0.41328,0.39948,0.38692,0.37543,0.36487,0.35514,0.34614,0.3378,0.33006,0.32287,0.31618,0.30996,0.30417,0.29878,0.29377,0.28912,0.2848,0.2808,0.27709,0.27366,0.2705,0.26759,0.26491,0.26245,0.2602,0.25815,0.25628,0.25458,0.25304,0.25165,0.2504,0.24928,0.24828,0.24739,0.2466,0.24591,0.24531,0.24478,0.24433,0.24395],
[0.45677,0.4359,0.41862,0.40393,0.39122,0.38005,0.37012,0.36122,0.35317,0.34585,0.33915,0.33299,0.3273,0.32204,0.31714,0.31257,0.30831,0.30431,0.30056,0.29703,0.29371,0.29057,0.28761,0.28481,0.28215,0.27964,0.27725,0.27497,0.27281,0.27076,0.2688,0.26693,0.26515,0.26344,0.26181,0.26026,0.25877,0.25734,0.25598,0.25467,0.25341,0.25221,0.25105,0.24994,0.24887,0.24785],
[0.3778,0.36043,0.34622,0.33429,0.32411,0.31529,0.30757,0.30075,0.29469,0.28926,0.28438,0.27998,0.27599,0.27237,0.26907,0.26606,0.26331,0.26078,0.25846,0.25633,0.25437,0.25256,0.2509,0.24935,0.24793,0.24661,0.24539,0.24426,0.24321,0.24224,0.24133,0.24049,0.23971,0.23898,0.23831,0.23768,0.23709,0.23654,0.23603,0.23556,0.23512,0.23471,0.23432,0.23396,0.23363,0.23332],
[0.56641,0.53234,0.50341,0.47829,0.45609,0.43624,0.4183,0.40196,0.38699,0.37319,0.36042,0.34857,0.33754,0.32727,0.31768,0.30874,0.30039,0.2926,0.28536,0.27863,0.27239,0.26664,0.26134,0.2565,0.2521,0.24812,0.24455,0.24137,0.23857,0.23612,0.23401,0.23222,0.23072,0.22948,0.2285,0.22774,0.22718,0.22681,0.2266,0.22653,0.2266,0.22678,0.22706,0.22744,0.22788,0.2284],
[0.66228,0.62157,0.58637,0.55534,0.52755,0.50239,0.47939,0.45821,0.4386,0.42034,0.40327,0.38728,0.37225,0.35812,0.34481,0.33229,0.32051,0.30947,0.29914,0.28953,0.28064,0.27249,0.26509,0.25845,0.25259,0.24751,0.2432,0.23964,0.2368,0.23464,0.23308,0.23207,0.23155,0.23145,0.23171,0.23227,0.23309,0.23412,0.23533,0.23668,0.23815,0.23971,0.24134,0.24303,0.24476,0.24653]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
