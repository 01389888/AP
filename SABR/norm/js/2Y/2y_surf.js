Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.65938,0.61209,0.57157,0.53606,0.5044,0.4758,0.4497,0.42565,0.40334,0.38251,0.36296,0.34453,0.32709,0.31052,0.29474,0.27969,0.2653,0.25154,0.23838,0.22582,0.21388,0.20259,0.19203,0.18232,0.1736,0.16605,0.15988,0.1552,0.15207,0.15037,0.14993,0.1505,0.15184,0.15374,0.15606,0.15865,0.16144,0.16435,0.16734,0.17036,0.1734,0.17643,0.17944,0.18242,0.18537,0.18827],
[0.82604,0.76324,0.70932,0.66198,0.61973,0.58151,0.54658,0.51438,0.48447,0.45654,0.4303,0.40555,0.38212,0.35988,0.33871,0.31854,0.29932,0.28103,0.2637,0.24741,0.23233,0.21872,0.20702,0.19778,0.19161,0.18887,0.18943,0.19269,0.19787,0.20428,0.2114,0.21889,0.22654,0.2342,0.24179,0.24926,0.25658,0.26373,0.27071,0.2775,0.28411,0.29055,0.29681,0.30291,0.30884,0.31462],
[0.6837,0.63609,0.5954,0.55984,0.52822,0.49976,0.47387,0.45013,0.42821,0.40786,0.38889,0.37115,0.35451,0.33888,0.32419,0.3104,0.29747,0.28539,0.27418,0.26386,0.25447,0.24607,0.23874,0.23253,0.2275,0.22369,0.22106,0.21956,0.21908,0.21949,0.22065,0.22241,0.22465,0.22726,0.23014,0.23322,0.23644,0.23975,0.24313,0.24653,0.24994,0.25334,0.25673,0.26008,0.26339,0.26666],
[0.62101,0.58091,0.54681,0.51715,0.49091,0.46741,0.44614,0.42674,0.40894,0.39252,0.37731,0.36319,0.35005,0.3378,0.3264,0.31578,0.30592,0.29678,0.28834,0.28059,0.27353,0.26715,0.26145,0.25642,0.25204,0.24831,0.2452,0.24269,0.24072,0.23927,0.23829,0.23772,0.23753,0.23766,0.23806,0.23871,0.23956,0.24058,0.24174,0.24302,0.24439,0.24584,0.24736,0.24892,0.25052,0.25215],
[0.56761,0.53343,0.50453,0.47953,0.45754,0.43794,0.4203,0.4043,0.3897,0.37631,0.36398,0.3526,0.34207,0.33232,0.32328,0.31491,0.30715,0.29998,0.29337,0.28728,0.2817,0.2766,0.27196,0.26777,0.26399,0.26063,0.25764,0.25502,0.25274,0.25077,0.2491,0.2477,0.24656,0.24564,0.24492,0.2444,0.24404,0.24383,0.24376,0.2438,0.24396,0.24421,0.24454,0.24494,0.2454,0.24593],
[0.54387,0.51355,0.48806,0.46611,0.44688,0.42982,0.41452,0.40068,0.3881,0.37659,0.36601,0.35626,0.34724,0.33889,0.33114,0.32394,0.31724,0.31101,0.30521,0.29982,0.29481,0.29015,0.28583,0.28182,0.27811,0.27468,0.27151,0.2686,0.26592,0.26346,0.26121,0.25915,0.25728,0.25558,0.25404,0.25264,0.25139,0.25027,0.24926,0.24837,0.24758,0.24689,0.24628,0.24575,0.2453,0.24492],
[0.4625,0.44137,0.42387,0.40901,0.39615,0.38485,0.37481,0.3658,0.35766,0.35025,0.34347,0.33724,0.33149,0.32616,0.3212,0.31659,0.31227,0.30823,0.30443,0.30086,0.2975,0.29433,0.29133,0.28849,0.2858,0.28325,0.28083,0.27853,0.27635,0.27426,0.27228,0.27038,0.26858,0.26685,0.2652,0.26362,0.26211,0.26067,0.25928,0.25795,0.25668,0.25546,0.25429,0.25316,0.25207,0.25103],
[0.40173,0.38315,0.36796,0.35522,0.34434,0.33492,0.32668,0.31939,0.31292,0.30713,0.30192,0.29722,0.29297,0.2891,0.28558,0.28237,0.27943,0.27673,0.27426,0.27199,0.26989,0.26796,0.26619,0.26454,0.26302,0.26162,0.26032,0.25911,0.25799,0.25696,0.25599,0.2551,0.25427,0.25349,0.25277,0.2521,0.25148,0.2509,0.25036,0.24985,0.24938,0.24894,0.24854,0.24815,0.2478,0.24747],
[0.57907,0.54427,0.51471,0.48903,0.46635,0.44606,0.42772,0.41102,0.3957,0.38159,0.36854,0.35642,0.34515,0.33464,0.32483,0.31568,0.30714,0.29917,0.29176,0.28487,0.27849,0.27259,0.26718,0.26222,0.25771,0.25363,0.24997,0.24671,0.24384,0.24133,0.23917,0.23733,0.23579,0.23452,0.23351,0.23273,0.23216,0.23178,0.23156,0.2315,0.23157,0.23175,0.23204,0.23242,0.23288,0.23341],
[0.66663,0.62571,0.59034,0.55914,0.53121,0.50592,0.48279,0.4615,0.44178,0.42341,0.40625,0.39016,0.37504,0.36082,0.34743,0.33482,0.32296,0.31183,0.30142,0.29173,0.28275,0.27451,0.26702,0.26029,0.25434,0.24917,0.24477,0.24113,0.23821,0.23597,0.23435,0.23329,0.23271,0.23257,0.2328,0.23333,0.23413,0.23515,0.23635,0.23769,0.23915,0.24071,0.24234,0.24404,0.24578,0.24755]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
