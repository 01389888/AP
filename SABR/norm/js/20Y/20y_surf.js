Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.82196,0.76366,0.71368,0.66988,0.63083,0.59555,0.56334,0.53367,0.50614,0.48043,0.4563,0.43355,0.41201,0.39155,0.37206,0.35344,0.33563,0.31858,0.30224,0.28659,0.27165,0.25743,0.24399,0.23144,0.21992,0.20962,0.20078,0.19362,0.18827,0.18477,0.18298,0.18265,0.1835,0.18524,0.18764,0.19051,0.1937,0.19712,0.20068,0.20432,0.20801,0.21171,0.2154,0.21907,0.2227,0.22629],
[0.98539,0.91081,0.84677,0.79056,0.74038,0.69499,0.65351,0.61526,0.57975,0.54657,0.51542,0.48603,0.4582,0.43178,0.40663,0.38266,0.3598,0.33803,0.31737,0.29789,0.27976,0.26326,0.24885,0.23714,0.22885,0.22451,0.22414,0.22717,0.23271,0.23992,0.24811,0.25685,0.26584,0.27489,0.28388,0.29275,0.30146,0.30997,0.31827,0.32637,0.33425,0.34193,0.3494,0.35667,0.36375,0.37064],
[0.71454,0.66462,0.62194,0.58464,0.55149,0.52165,0.4945,0.4696,0.44662,0.42529,0.40541,0.38682,0.36938,0.35302,0.33765,0.32323,0.30973,0.29714,0.28547,0.27476,0.26506,0.25643,0.24894,0.24267,0.23768,0.23396,0.2315,0.23021,0.22998,0.23065,0.23206,0.23408,0.23657,0.23942,0.24253,0.24583,0.24926,0.25278,0.25636,0.25995,0.26355,0.26713,0.27069,0.27421,0.27768,0.28111],
[0.6278,0.58724,0.55274,0.52273,0.49619,0.47241,0.4509,0.43128,0.41328,0.39667,0.38129,0.36701,0.35373,0.34135,0.32983,0.3191,0.30914,0.29991,0.29139,0.28358,0.27646,0.27004,0.2643,0.25924,0.25485,0.25111,0.248,0.24549,0.24354,0.2421,0.24114,0.2406,0.24042,0.24058,0.24101,0.24168,0.24256,0.2436,0.24479,0.24609,0.24749,0.24896,0.2505,0.25208,0.25371,0.25536],
[0.51662,0.48556,0.45929,0.43656,0.41656,0.39873,0.38269,0.36813,0.35484,0.34264,0.33141,0.32104,0.31144,0.30254,0.29429,0.28663,0.27954,0.27298,0.26691,0.26133,0.2562,0.25151,0.24723,0.24336,0.23987,0.23675,0.23398,0.23153,0.2294,0.22756,0.22599,0.22467,0.22358,0.2227,0.22202,0.2215,0.22114,0.22093,0.22084,0.22086,0.22098,0.22118,0.22147,0.22182,0.22224,0.2227],
[0.47737,0.45079,0.42843,0.40917,0.39229,0.3773,0.36386,0.3517,0.34064,0.33051,0.3212,0.31262,0.30468,0.29732,0.29048,0.28412,0.27821,0.27271,0.26758,0.26281,0.25837,0.25425,0.25041,0.24686,0.24356,0.24051,0.2377,0.2351,0.23271,0.23052,0.22852,0.22668,0.22501,0.22349,0.22211,0.22086,0.21974,0.21874,0.21784,0.21704,0.21633,0.21571,0.21516,0.21469,0.21429,0.21394],
[0.41596,0.39693,0.38117,0.36777,0.35616,0.34597,0.3369,0.32877,0.32142,0.31473,0.30861,0.30298,0.29778,0.29297,0.28849,0.28432,0.28042,0.27677,0.27335,0.27013,0.26709,0.26423,0.26153,0.25897,0.25655,0.25426,0.25208,0.25001,0.24805,0.24617,0.24439,0.24269,0.24107,0.23952,0.23805,0.23663,0.23528,0.23399,0.23275,0.23157,0.23043,0.22934,0.22829,0.22729,0.22633,0.2254],
[0.36417,0.34768,0.33423,0.32296,0.31335,0.30505,0.29779,0.29139,0.28571,0.28063,0.27607,0.27196,0.26824,0.26486,0.26179,0.25898,0.25642,0.25406,0.2519,0.24992,0.24809,0.2464,0.24485,0.24341,0.24207,0.24084,0.23969,0.23863,0.23764,0.23672,0.23587,0.23507,0.23433,0.23363,0.23299,0.23238,0.23182,0.23129,0.2308,0.23034,0.22991,0.2295,0.22912,0.22877,0.22844,0.22813],
[0.50307,0.47241,0.4464,0.42383,0.4039,0.3861,0.37002,0.35539,0.34199,0.32966,0.31827,0.30772,0.29792,0.28881,0.28032,0.27243,0.26509,0.25828,0.25196,0.24612,0.24075,0.23582,0.23132,0.22724,0.22356,0.22027,0.21735,0.21479,0.21256,0.21065,0.20903,0.20768,0.20658,0.20571,0.20505,0.20457,0.20425,0.20409,0.20405,0.20413,0.20432,0.20459,0.20494,0.20536,0.20584,0.20637],
[0.58561,0.54877,0.51697,0.48898,0.46395,0.44131,0.42064,0.40164,0.38406,0.36772,0.35248,0.33822,0.32486,0.31233,0.30058,0.28957,0.27927,0.26968,0.26079,0.25261,0.24513,0.23839,0.23238,0.22712,0.22259,0.2188,0.2157,0.21326,0.21144,0.21016,0.20937,0.20901,0.20902,0.20933,0.20991,0.21071,0.21168,0.2128,0.21404,0.21537,0.21678,0.21825,0.21977,0.22132,0.22289,0.22448]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
