Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.8178,0.76,0.71048,0.6671,0.62843,0.59352,0.56165,0.5323,0.50509,0.47969,0.45586,0.4334,0.41215,0.39198,0.37278,0.35447,0.33697,0.32024,0.30423,0.28895,0.27438,0.26057,0.24758,0.23551,0.22449,0.2147,0.20634,0.19957,0.19451,0.19113,0.18931,0.18883,0.18944,0.1909,0.19298,0.19553,0.19841,0.20152,0.20479,0.20816,0.21158,0.21504,0.2185,0.22194,0.22536,0.22875],
[1.003,0.9268,0.86142,0.80404,0.75281,0.70649,0.66416,0.62513,0.5889,0.55506,0.52328,0.49332,0.46497,0.43805,0.41246,0.38809,0.3649,0.34286,0.32202,0.30249,0.28448,0.26833,0.25456,0.24384,0.23682,0.23387,0.23474,0.23873,0.24494,0.25257,0.26104,0.26996,0.27907,0.2882,0.29726,0.30619,0.31494,0.32349,0.33184,0.33997,0.3479,0.35561,0.36312,0.37043,0.37755,0.38448],
[0.77369,0.71874,0.67175,0.63065,0.5941,0.56118,0.53122,0.50372,0.47832,0.45474,0.43273,0.41214,0.39282,0.37467,0.35762,0.34162,0.32664,0.31268,0.29978,0.28798,0.27737,0.26803,0.26009,0.25364,0.24874,0.24539,0.24354,0.24304,0.24372,0.24536,0.24777,0.25078,0.25423,0.258,0.26199,0.26612,0.27035,0.27463,0.27892,0.2832,0.28745,0.29166,0.29581,0.29991,0.30394,0.3079],
[0.64619,0.60398,0.56808,0.53684,0.50921,0.48445,0.46205,0.44161,0.42286,0.40556,0.38955,0.37468,0.36085,0.34799,0.33601,0.32488,0.31456,0.30502,0.29625,0.28824,0.28098,0.27448,0.26872,0.2637,0.25941,0.25583,0.25293,0.25066,0.24898,0.24784,0.24719,0.24696,0.24711,0.24757,0.24831,0.24927,0.25043,0.25175,0.25319,0.25474,0.25637,0.25807,0.25982,0.26161,0.26343,0.26526],
[0.57492,0.54,0.51045,0.48489,0.46239,0.44234,0.42429,0.40791,0.39297,0.37926,0.36664,0.35499,0.34422,0.33424,0.325,0.31645,0.30854,0.30123,0.2945,0.28832,0.28267,0.27753,0.27287,0.26868,0.26493,0.26161,0.25869,0.25614,0.25396,0.2521,0.25055,0.24928,0.24826,0.24748,0.24691,0.24653,0.24632,0.24625,0.24632,0.24651,0.2468,0.24718,0.24764,0.24817,0.24876,0.24941],
[0.52064,0.49138,0.46676,0.44556,0.42699,0.4105,0.39571,0.38234,0.37018,0.35905,0.34883,0.3394,0.3307,0.32263,0.31515,0.3082,0.30175,0.29575,0.29018,0.28501,0.2802,0.27575,0.27162,0.26781,0.26429,0.26104,0.25806,0.25532,0.25281,0.25052,0.24844,0.24654,0.24483,0.24328,0.24189,0.24065,0.23954,0.23855,0.23768,0.23692,0.23625,0.23568,0.23518,0.23477,0.23442,0.23414],
[0.43119,0.41114,0.39453,0.38041,0.36818,0.35745,0.34791,0.33937,0.33165,0.32463,0.31821,0.31232,0.30689,0.30187,0.29721,0.29287,0.28883,0.28505,0.28151,0.27819,0.27507,0.27213,0.26936,0.26675,0.26429,0.26196,0.25975,0.25766,0.25568,0.2538,0.25201,0.25031,0.2487,0.24716,0.2457,0.24431,0.24298,0.24171,0.2405,0.23935,0.23824,0.23719,0.23618,0.23522,0.23429,0.23341],
[0.37401,0.35684,0.34282,0.3311,0.32112,0.3125,0.30497,0.29835,0.29247,0.28724,0.28255,0.27833,0.27452,0.27107,0.26794,0.26509,0.26249,0.26012,0.25795,0.25596,0.25414,0.25246,0.25092,0.2495,0.24819,0.24698,0.24586,0.24483,0.24388,0.243,0.24218,0.24142,0.24072,0.24007,0.23946,0.2389,0.23838,0.2379,0.23745,0.23703,0.23664,0.23628,0.23594,0.23563,0.23534,0.23507],
[0.51045,0.47912,0.45254,0.42947,0.40912,0.39093,0.37452,0.35959,0.34592,0.33335,0.32175,0.31101,0.30104,0.29179,0.28319,0.2752,0.26779,0.26092,0.25458,0.24873,0.24338,0.23849,0.23405,0.23005,0.22647,0.22329,0.22049,0.21806,0.21598,0.21421,0.21273,0.21153,0.21057,0.20984,0.20931,0.20895,0.20876,0.20871,0.20878,0.20897,0.20925,0.20961,0.21005,0.21055,0.2111,0.2117],
[0.53642,0.50278,0.4737,0.44807,0.42515,0.40442,0.3855,0.36812,0.35207,0.33718,0.32333,0.31042,0.29839,0.28717,0.27673,0.26704,0.25808,0.24985,0.24235,0.23558,0.22953,0.22421,0.21961,0.21569,0.21244,0.20981,0.20775,0.20621,0.20513,0.20445,0.20411,0.20408,0.20429,0.20472,0.20533,0.20608,0.20695,0.20792,0.20897,0.21008,0.21125,0.21246,0.2137,0.21496,0.21624,0.21753]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
