Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.7521,0.69894,0.6534,0.6135,0.57794,0.54584,0.51653,0.48955,0.46453,0.44118,0.41927,0.39862,0.37908,0.36054,0.34289,0.32606,0.30997,0.29459,0.27987,0.26582,0.25243,0.23973,0.22779,0.21668,0.20654,0.19753,0.18982,0.18358,0.1789,0.17576,0.17406,0.1736,0.17414,0.17546,0.17736,0.17969,0.18233,0.18519,0.18818,0.19127,0.19442,0.19759,0.20077,0.20393,0.20707,0.21018],
[0.95912,0.88655,0.82425,0.76957,0.72077,0.67663,0.6363,0.59912,0.5646,0.53236,0.50209,0.47355,0.44654,0.4209,0.39651,0.37329,0.35117,0.33014,0.31022,0.29151,0.27418,0.25854,0.24503,0.23426,0.22685,0.22323,0.22331,0.22649,0.23195,0.23891,0.24677,0.25514,0.26373,0.27238,0.28098,0.28947,0.29781,0.30596,0.31392,0.32169,0.32925,0.33662,0.34379,0.35077,0.35757,0.3642],
[0.75303,0.69983,0.65433,0.61453,0.57914,0.54726,0.51824,0.49161,0.46701,0.44416,0.42284,0.40288,0.38414,0.36653,0.34998,0.33442,0.31983,0.3062,0.29357,0.28196,0.27144,0.26211,0.25407,0.2474,0.2422,0.23847,0.23619,0.23525,0.23549,0.23673,0.23877,0.24144,0.24458,0.24807,0.25182,0.25573,0.25975,0.26384,0.26795,0.27206,0.27616,0.28022,0.28423,0.28819,0.29209,0.29593],
[0.64498,0.60298,0.56725,0.53617,0.50867,0.48403,0.46173,0.44139,0.42271,0.40549,0.38954,0.37473,0.36094,0.34811,0.33616,0.32505,0.31473,0.30518,0.29639,0.28834,0.28104,0.27446,0.26863,0.26352,0.25913,0.25543,0.25241,0.25002,0.24822,0.24697,0.2462,0.24586,0.24591,0.24628,0.24693,0.24782,0.24891,0.25017,0.25156,0.25305,0.25464,0.2563,0.25801,0.25977,0.26155,0.26336],
[0.58132,0.54606,0.51624,0.49042,0.46771,0.44746,0.42923,0.41269,0.3976,0.38375,0.37099,0.35922,0.34833,0.33824,0.32889,0.32023,0.31221,0.30481,0.29798,0.29171,0.28597,0.28074,0.27599,0.27172,0.26789,0.26449,0.26149,0.25888,0.25662,0.2547,0.2531,0.25177,0.25071,0.24988,0.24927,0.24885,0.24861,0.24851,0.24856,0.24872,0.24899,0.24936,0.24981,0.25033,0.25091,0.25154],
[0.54101,0.51065,0.48511,0.46311,0.44383,0.42671,0.41136,0.39747,0.38484,0.37328,0.36265,0.35286,0.3438,0.33541,0.32762,0.32039,0.31367,0.30741,0.3016,0.2962,0.29118,0.28653,0.28221,0.27822,0.27453,0.27113,0.26799,0.26512,0.26248,0.26007,0.25787,0.25588,0.25407,0.25243,0.25096,0.24964,0.24846,0.24741,0.24649,0.24567,0.24496,0.24434,0.24382,0.24337,0.24299,0.24269],
[0.43736,0.41698,0.40008,0.38571,0.37328,0.36235,0.35264,0.34393,0.33607,0.32892,0.32238,0.31638,0.31084,0.30572,0.30097,0.29655,0.29243,0.28857,0.28496,0.28157,0.27839,0.2754,0.27258,0.26992,0.2674,0.26503,0.26278,0.26065,0.25863,0.25672,0.2549,0.25318,0.25153,0.24997,0.24849,0.24707,0.24572,0.24444,0.24321,0.24204,0.24092,0.23986,0.23884,0.23786,0.23693,0.23603],
[0.41101,0.39174,0.37599,0.36277,0.35149,0.34172,0.33318,0.32563,0.31893,0.31294,0.30756,0.30271,0.29832,0.29434,0.29072,0.28743,0.28441,0.28166,0.27914,0.27683,0.2747,0.27275,0.27096,0.2693,0.26778,0.26637,0.26508,0.26388,0.26277,0.26175,0.26081,0.25993,0.25912,0.25837,0.25768,0.25703,0.25644,0.25589,0.25538,0.2549,0.25446,0.25406,0.25368,0.25333,0.25301,0.25271],
[0.52999,0.49809,0.47102,0.44751,0.42675,0.40819,0.39142,0.37615,0.36215,0.34926,0.33733,0.32626,0.31597,0.30638,0.29743,0.28908,0.28129,0.27403,0.26728,0.261,0.25519,0.24982,0.24489,0.24037,0.23627,0.23255,0.22922,0.22625,0.22364,0.22135,0.21937,0.21768,0.21627,0.21511,0.21417,0.21345,0.21291,0.21254,0.21233,0.21225,0.2123,0.21245,0.21269,0.21302,0.21342,0.21388],
[0.6481,0.60893,0.57506,0.54518,0.51842,0.49419,0.47204,0.45164,0.43275,0.41516,0.39873,0.38333,0.36887,0.35526,0.34246,0.3304,0.31906,0.30842,0.29846,0.28917,0.28056,0.27264,0.2654,0.25888,0.25306,0.24795,0.24355,0.23984,0.23678,0.23435,0.2325,0.23117,0.23031,0.22986,0.22977,0.22999,0.23047,0.23118,0.23207,0.23312,0.23429,0.23557,0.23694,0.23837,0.23987,0.2414]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
