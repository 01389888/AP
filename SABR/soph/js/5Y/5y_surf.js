Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.7961,0.73982,0.69161,0.64937,0.61172,0.57773,0.5467,0.51814,0.49164,0.46691,0.44371,0.42185,0.40116,0.38153,0.36284,0.34501,0.32798,0.31169,0.29611,0.28124,0.26706,0.25362,0.24098,0.22924,0.21852,0.20901,0.20088,0.19431,0.1894,0.18612,0.18437,0.18391,0.18451,0.18593,0.18797,0.19045,0.19325,0.19628,0.19946,0.20274,0.20608,0.20944,0.2128,0.21616,0.21949,0.22278],
[0.96855,0.89518,0.83219,0.77691,0.72756,0.68294,0.64216,0.60457,0.56967,0.53707,0.50647,0.4776,0.45029,0.42437,0.39971,0.37624,0.35388,0.33263,0.31252,0.29363,0.27617,0.26045,0.24692,0.23622,0.22898,0.2256,0.22594,0.22938,0.23505,0.2422,0.25022,0.25872,0.26744,0.2762,0.28491,0.2935,0.30192,0.31017,0.31821,0.32606,0.3337,0.34114,0.34838,0.35544,0.36231,0.369],
[0.76058,0.70677,0.66075,0.6205,0.58471,0.55246,0.52311,0.49618,0.4713,0.44819,0.42663,0.40644,0.3875,0.3697,0.35297,0.33725,0.32252,0.30877,0.29602,0.28433,0.27376,0.26441,0.25637,0.24974,0.2446,0.24097,0.2388,0.23798,0.23834,0.23969,0.24184,0.24461,0.24784,0.25142,0.25525,0.25923,0.26332,0.26747,0.27164,0.27581,0.27996,0.28407,0.28813,0.29214,0.29609,0.29997],
[0.65451,0.61188,0.57561,0.54406,0.51615,0.49114,0.4685,0.44786,0.4289,0.41142,0.39523,0.38019,0.36621,0.35318,0.34105,0.32977,0.3193,0.30961,0.30069,0.29252,0.28511,0.27844,0.27252,0.26734,0.26289,0.25914,0.25608,0.25366,0.25185,0.25058,0.24981,0.24947,0.24952,0.24991,0.25058,0.25148,0.25259,0.25387,0.25528,0.25681,0.25842,0.2601,0.26185,0.26363,0.26544,0.26728],
[0.5852,0.54974,0.51975,0.49379,0.47095,0.45058,0.43225,0.41562,0.40043,0.3865,0.37367,0.36182,0.35086,0.3407,0.33129,0.32257,0.3145,0.30704,0.30016,0.29384,0.28805,0.28276,0.27797,0.27365,0.26977,0.26633,0.26329,0.26063,0.25834,0.25639,0.25474,0.25338,0.25229,0.25144,0.2508,0.25036,0.25009,0.24998,0.25001,0.25016,0.25042,0.25077,0.25121,0.25172,0.25229,0.25292],
[0.51506,0.48619,0.46189,0.44096,0.42261,0.40632,0.39171,0.3785,0.36647,0.35546,0.34534,0.33601,0.32739,0.31939,0.31197,0.30508,0.29867,0.29271,0.28717,0.28201,0.27722,0.27278,0.26866,0.26484,0.26131,0.25806,0.25506,0.25231,0.24978,0.24747,0.24537,0.24345,0.24171,0.24014,0.23873,0.23746,0.23633,0.23532,0.23442,0.23364,0.23295,0.23235,0.23184,0.2314,0.23104,0.23074],
[0.44884,0.4279,0.41054,0.39578,0.383,0.37177,0.3618,0.35285,0.34477,0.33742,0.3307,0.32453,0.31884,0.31358,0.3087,0.30415,0.29991,0.29595,0.29224,0.28876,0.28549,0.28241,0.27951,0.27678,0.2742,0.27176,0.26945,0.26726,0.26518,0.26322,0.26135,0.25958,0.25789,0.25629,0.25476,0.25331,0.25192,0.2506,0.24934,0.24814,0.247,0.2459,0.24485,0.24385,0.2429,0.24198],
[0.40413,0.38522,0.36976,0.3568,0.34572,0.33614,0.32775,0.32034,0.31377,0.30789,0.30261,0.29785,0.29354,0.28964,0.28609,0.28285,0.2799,0.2772,0.27472,0.27245,0.27037,0.26845,0.26669,0.26507,0.26357,0.26219,0.26092,0.25974,0.25866,0.25765,0.25672,0.25587,0.25507,0.25433,0.25365,0.25302,0.25243,0.25189,0.25139,0.25092,0.25049,0.25009,0.24972,0.24938,0.24906,0.24877],
[0.53982,0.50731,0.4797,0.45573,0.43457,0.41563,0.39853,0.38296,0.36868,0.35553,0.34337,0.33209,0.32159,0.31181,0.30269,0.29417,0.28624,0.27884,0.27195,0.26556,0.25964,0.25418,0.24917,0.24458,0.24041,0.23664,0.23327,0.23026,0.22761,0.22531,0.22332,0.22162,0.22021,0.21905,0.21812,0.2174,0.21688,0.21653,0.21633,0.21628,0.21634,0.21651,0.21678,0.21713,0.21756,0.21804],
[0.63814,0.59947,0.56603,0.53654,0.51014,0.48623,0.46438,0.44427,0.42564,0.40831,0.39211,0.37694,0.36269,0.34928,0.33667,0.3248,0.31365,0.30318,0.29339,0.28426,0.27582,0.26804,0.26096,0.25458,0.2489,0.24392,0.23964,0.23604,0.23309,0.23076,0.22898,0.22772,0.22692,0.22652,0.22646,0.22671,0.22721,0.22793,0.22882,0.22987,0.23104,0.23231,0.23367,0.23509,0.23656,0.23807]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
