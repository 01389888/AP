Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.82245,0.76416,0.7142,0.67042,0.63138,0.59611,0.56391,0.53425,0.50673,0.48103,0.45692,0.43417,0.41264,0.39219,0.3727,0.35409,0.33629,0.31923,0.30289,0.28724,0.27229,0.25805,0.24459,0.232,0.22043,0.21006,0.20113,0.19385,0.18837,0.18474,0.18283,0.1824,0.18316,0.18484,0.18719,0.19002,0.19318,0.19657,0.20011,0.20374,0.20742,0.21111,0.2148,0.21846,0.22209,0.22567],
[0.98576,0.91125,0.84729,0.79113,0.741,0.69567,0.65423,0.61603,0.58056,0.54742,0.5163,0.48694,0.45915,0.43276,0.40763,0.38369,0.36085,0.33909,0.31843,0.29893,0.28076,0.26419,0.24964,0.23773,0.22916,0.22448,0.22377,0.22652,0.23185,0.2389,0.24699,0.25566,0.2646,0.27362,0.2826,0.29145,0.30015,0.30866,0.31696,0.32505,0.33294,0.34061,0.34809,0.35536,0.36244,0.36934],
[0.7194,0.66922,0.62632,0.58883,0.5555,0.5255,0.49821,0.47318,0.45007,0.42863,0.40863,0.38994,0.3724,0.35594,0.34047,0.32596,0.31236,0.29967,0.2879,0.27707,0.26725,0.25849,0.25087,0.24446,0.23931,0.23544,0.23284,0.23141,0.23106,0.23162,0.23295,0.23491,0.23735,0.24016,0.24325,0.24653,0.24996,0.25348,0.25706,0.26066,0.26427,0.26786,0.27143,0.27497,0.27847,0.28191],
[0.60101,0.56223,0.52925,0.50056,0.47518,0.45245,0.43188,0.41312,0.3959,0.38001,0.3653,0.35164,0.33892,0.32708,0.31604,0.30576,0.29621,0.28735,0.27918,0.27167,0.26482,0.25863,0.25308,0.24819,0.24393,0.24029,0.23725,0.23479,0.23286,0.23143,0.23045,0.22988,0.22967,0.22977,0.23014,0.23075,0.23156,0.23253,0.23364,0.23487,0.23619,0.23758,0.23904,0.24054,0.24208,0.24365],
[0.52783,0.49614,0.46934,0.44615,0.42574,0.40755,0.39117,0.37631,0.36274,0.35028,0.33881,0.32821,0.3184,0.3093,0.30086,0.29303,0.28577,0.27904,0.27282,0.26709,0.26182,0.257,0.2526,0.2486,0.245,0.24178,0.23891,0.23637,0.23415,0.23224,0.23059,0.22921,0.22806,0.22713,0.2264,0.22584,0.22545,0.22521,0.22509,0.22509,0.22519,0.22538,0.22566,0.226,0.22641,0.22687],
[0.48103,0.45426,0.43173,0.41231,0.3953,0.3802,0.36664,0.35439,0.34323,0.33301,0.32362,0.31495,0.30693,0.2995,0.2926,0.28618,0.2802,0.27463,0.26945,0.26463,0.26014,0.25596,0.25208,0.24848,0.24514,0.24205,0.23919,0.23656,0.23414,0.23192,0.22988,0.22802,0.22632,0.22478,0.22338,0.22211,0.22097,0.21995,0.21904,0.21823,0.21751,0.21688,0.21633,0.21585,0.21544,0.21509],
[0.42683,0.40726,0.39104,0.37725,0.3653,0.35481,0.34548,0.3371,0.32954,0.32265,0.31635,0.31055,0.30521,0.30025,0.29565,0.29136,0.28735,0.28359,0.28007,0.27676,0.27364,0.2707,0.26793,0.2653,0.26282,0.26046,0.25823,0.25611,0.25409,0.25217,0.25034,0.2486,0.24694,0.24536,0.24385,0.24241,0.24102,0.2397,0.23844,0.23723,0.23607,0.23496,0.23389,0.23287,0.23189,0.23095],
[0.37192,0.35498,0.34115,0.32957,0.31968,0.31114,0.30367,0.29708,0.29122,0.28599,0.28129,0.27705,0.27322,0.26974,0.26657,0.26368,0.26104,0.25862,0.25639,0.25435,0.25247,0.25073,0.24913,0.24765,0.24628,0.24502,0.24384,0.24275,0.24174,0.2408,0.23993,0.23911,0.23836,0.23765,0.23699,0.23638,0.23581,0.23527,0.23477,0.23431,0.23387,0.23347,0.23308,0.23273,0.2324,0.23208],
[0.51812,0.48664,0.45992,0.43673,0.41626,0.39795,0.38142,0.36638,0.35259,0.33991,0.32818,0.31731,0.30721,0.29781,0.28905,0.2809,0.27331,0.26626,0.25971,0.25365,0.24806,0.24293,0.23823,0.23397,0.23011,0.22666,0.22358,0.22087,0.21851,0.21647,0.21474,0.21328,0.21209,0.21114,0.21041,0.20986,0.2095,0.20929,0.20922,0.20928,0.20944,0.2097,0.21004,0.21045,0.21093,0.21147],
[0.59636,0.559,0.52676,0.49837,0.47299,0.45002,0.42905,0.40977,0.39192,0.37532,0.35984,0.34535,0.33176,0.319,0.30703,0.29579,0.28527,0.27545,0.26633,0.2579,0.25018,0.24317,0.2369,0.23137,0.22657,0.22251,0.21917,0.21649,0.21445,0.21298,0.21203,0.21153,0.21141,0.21163,0.21213,0.21287,0.2138,0.21489,0.21611,0.21743,0.21884,0.22031,0.22183,0.2234,0.22499,0.22661]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
