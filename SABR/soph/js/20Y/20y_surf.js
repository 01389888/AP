Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.81655,0.75915,0.70999,0.66691,0.62852,0.59385,0.56221,0.53308,0.50605,0.48084,0.45718,0.43488,0.41379,0.39376,0.37469,0.3565,0.33911,0.32248,0.30655,0.29132,0.27678,0.26296,0.2499,0.23769,0.22644,0.21632,0.2075,0.20018,0.19447,0.19043,0.18798,0.18693,0.18706,0.18812,0.18989,0.19218,0.19485,0.1978,0.20093,0.20419,0.20753,0.2109,0.2143,0.21769,0.22106,0.2244],
[0.98228,0.90819,0.84458,0.78874,0.73891,0.69384,0.65266,0.6147,0.57946,0.54654,0.51564,0.4865,0.45892,0.43274,0.40783,0.38411,0.36151,0.34,0.31961,0.30042,0.2826,0.26641,0.25229,0.24083,0.23267,0.22828,0.2277,0.23039,0.23555,0.24236,0.2502,0.25861,0.26731,0.2761,0.28486,0.29351,0.30202,0.31035,0.31849,0.32643,0.33416,0.3417,0.34904,0.35619,0.36315,0.36993],
[0.7205,0.66963,0.62613,0.58808,0.55425,0.52376,0.49602,0.47056,0.44703,0.42518,0.40479,0.3857,0.36778,0.35094,0.3351,0.32021,0.30625,0.2932,0.28109,0.26996,0.25986,0.25089,0.24314,0.2367,0.23164,0.228,0.22574,0.22476,0.22492,0.22604,0.22794,0.23046,0.23343,0.23675,0.24031,0.24403,0.24787,0.25176,0.25569,0.25962,0.26353,0.26741,0.27124,0.27503,0.27876,0.28243],
[0.6299,0.58898,0.55417,0.52388,0.49709,0.47307,0.45134,0.43151,0.41331,0.39651,0.38095,0.3665,0.35305,0.34052,0.32884,0.31797,0.30787,0.29852,0.28989,0.28198,0.27478,0.26829,0.2625,0.25742,0.25303,0.24931,0.24625,0.2438,0.24194,0.24061,0.23976,0.23934,0.2393,0.23959,0.24015,0.24096,0.24197,0.24314,0.24446,0.24588,0.2474,0.24899,0.25063,0.25232,0.25405,0.25579],
[0.51831,0.48695,0.46042,0.43745,0.41723,0.39921,0.38298,0.36825,0.3548,0.34245,0.33108,0.32057,0.31085,0.30184,0.29348,0.28573,0.27855,0.27191,0.26578,0.26014,0.25497,0.25024,0.24595,0.24207,0.23859,0.23549,0.23275,0.23035,0.22827,0.22649,0.22499,0.22374,0.22273,0.22194,0.22134,0.22092,0.22066,0.22053,0.22054,0.22065,0.22086,0.22116,0.22153,0.22197,0.22246,0.22301],
[0.47865,0.45183,0.42925,0.4098,0.39275,0.37761,0.36403,0.35175,0.34057,0.33033,0.32093,0.31225,0.30423,0.29679,0.28989,0.28347,0.27751,0.27196,0.2668,0.262,0.25754,0.2534,0.24956,0.246,0.24271,0.23968,0.23688,0.23431,0.23196,0.2298,0.22783,0.22604,0.22442,0.22295,0.22163,0.22044,0.21938,0.21844,0.2176,0.21686,0.21622,0.21566,0.21518,0.21477,0.21443,0.21415],
[0.41811,0.39862,0.38246,0.36872,0.35682,0.34637,0.33708,0.32874,0.32122,0.31437,0.30812,0.30237,0.29707,0.29217,0.28763,0.2834,0.27945,0.27576,0.27231,0.26907,0.26602,0.26316,0.26046,0.25792,0.25551,0.25324,0.25109,0.24906,0.24713,0.2453,0.24356,0.24191,0.24035,0.23885,0.23744,0.23609,0.2348,0.23357,0.2324,0.23129,0.23022,0.2292,0.22823,0.2273,0.22641,0.22556],
[0.36615,0.34921,0.33537,0.32378,0.31388,0.30533,0.29785,0.29126,0.28541,0.28019,0.27551,0.2713,0.26749,0.26404,0.26091,0.25805,0.25545,0.25308,0.2509,0.24891,0.24708,0.2454,0.24386,0.24244,0.24113,0.23992,0.23881,0.23778,0.23683,0.23595,0.23514,0.23439,0.2337,0.23305,0.23246,0.23191,0.23139,0.23092,0.23048,0.23007,0.22969,0.22934,0.22902,0.22872,0.22844,0.22818],
[0.50325,0.47256,0.44652,0.42391,0.40396,0.38613,0.37003,0.35537,0.34196,0.32961,0.3182,0.30763,0.29782,0.28869,0.2802,0.27229,0.26494,0.25811,0.25179,0.24595,0.24057,0.23563,0.23113,0.22705,0.22338,0.2201,0.21718,0.21463,0.21241,0.21051,0.2089,0.20756,0.20648,0.20562,0.20497,0.2045,0.2042,0.20405,0.20403,0.20412,0.20432,0.20461,0.20497,0.2054,0.20589,0.20643],
[0.58371,0.5475,0.51623,0.48869,0.46407,0.44179,0.42146,0.40276,0.38546,0.36938,0.35438,0.34035,0.3272,0.31487,0.3033,0.29245,0.2823,0.27283,0.26404,0.25592,0.24848,0.24174,0.23569,0.23034,0.22569,0.22172,0.21842,0.21576,0.21368,0.21214,0.21108,0.21045,0.21019,0.21025,0.21059,0.21115,0.2119,0.21281,0.21385,0.215,0.21623,0.21754,0.2189,0.2203,0.22174,0.2232]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
