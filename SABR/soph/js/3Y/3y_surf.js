Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.73677,0.68465,0.64001,0.6009,0.56604,0.53457,0.50584,0.47939,0.45486,0.43197,0.4105,0.39026,0.37111,0.35293,0.33564,0.31913,0.30337,0.28829,0.27388,0.26011,0.247,0.23457,0.22288,0.21203,0.20213,0.19335,0.18587,0.17982,0.17531,0.17232,0.17073,0.17034,0.17092,0.17225,0.17415,0.17645,0.17906,0.18187,0.18481,0.18785,0.19094,0.19405,0.19717,0.20027,0.20335,0.2064],
[0.88681,0.81977,0.76221,0.7117,0.6666,0.62583,0.58857,0.55422,0.52233,0.49255,0.46458,0.43821,0.41326,0.38957,0.36704,0.34559,0.32515,0.30571,0.2873,0.27,0.25396,0.23945,0.22689,0.21682,0.20983,0.20632,0.20623,0.20903,0.21397,0.22033,0.22755,0.23524,0.24316,0.25114,0.25908,0.26692,0.27462,0.28215,0.28951,0.29668,0.30367,0.31048,0.31711,0.32357,0.32985,0.33597],
[0.73078,0.67927,0.63521,0.59668,0.56242,0.53154,0.50345,0.47766,0.45384,0.43171,0.41106,0.39172,0.37357,0.35651,0.34046,0.32537,0.31121,0.29797,0.28567,0.27435,0.26408,0.25492,0.24698,0.24036,0.23512,0.2313,0.22887,0.22776,0.2278,0.22884,0.23067,0.23314,0.2361,0.2394,0.24297,0.24671,0.25057,0.2545,0.25846,0.26243,0.26638,0.2703,0.27418,0.27801,0.28179,0.2855],
[0.63417,0.59292,0.55783,0.5273,0.50029,0.47608,0.45418,0.43419,0.41585,0.39892,0.38325,0.36869,0.35515,0.34253,0.33078,0.31985,0.30969,0.30029,0.29163,0.28369,0.27648,0.26998,0.2642,0.25914,0.25477,0.25109,0.24807,0.24567,0.24385,0.24257,0.24177,0.2414,0.2414,0.24173,0.24234,0.24319,0.24423,0.24544,0.24679,0.24824,0.24979,0.2514,0.25308,0.25479,0.25654,0.2583],
[0.57617,0.54122,0.51166,0.48607,0.46356,0.44349,0.42542,0.40903,0.39407,0.38034,0.36771,0.35604,0.34524,0.33525,0.32599,0.31741,0.30947,0.30214,0.29538,0.28917,0.28348,0.2783,0.27361,0.26937,0.26559,0.26222,0.25926,0.25668,0.25445,0.25255,0.25096,0.24965,0.24861,0.24779,0.24719,0.24678,0.24653,0.24645,0.24649,0.24666,0.24693,0.24729,0.24773,0.24825,0.24883,0.24945],
[0.54382,0.51329,0.4876,0.46547,0.44609,0.42888,0.41344,0.39948,0.38678,0.37516,0.36448,0.35464,0.34554,0.33711,0.32929,0.32203,0.31528,0.309,0.30317,0.29775,0.29272,0.28805,0.28373,0.27973,0.27603,0.27262,0.26949,0.26661,0.26397,0.26156,0.25937,0.25737,0.25557,0.25394,0.25247,0.25115,0.24998,0.24893,0.24801,0.2472,0.24649,0.24588,0.24536,0.24491,0.24454,0.24424],
[0.45917,0.43777,0.42004,0.40497,0.39193,0.38047,0.37029,0.36117,0.35292,0.34543,0.33858,0.33229,0.32649,0.32113,0.31615,0.31152,0.3072,0.30316,0.29938,0.29584,0.2925,0.28937,0.28641,0.28362,0.28099,0.2785,0.27614,0.27391,0.27179,0.26979,0.26788,0.26607,0.26434,0.26271,0.26115,0.25966,0.25824,0.25689,0.2556,0.25437,0.2532,0.25208,0.251,0.24998,0.24899,0.24805],
[0.37936,0.36168,0.3472,0.33504,0.32466,0.31566,0.30778,0.30082,0.29464,0.28911,0.28414,0.27966,0.2756,0.27192,0.26857,0.26552,0.26273,0.26018,0.25785,0.2557,0.25374,0.25193,0.25026,0.24873,0.24731,0.24601,0.24481,0.24369,0.24267,0.24172,0.24084,0.24003,0.23927,0.23858,0.23793,0.23733,0.23678,0.23627,0.23579,0.23535,0.23495,0.23457,0.23422,0.2339,0.2336,0.23332],
[0.56591,0.53193,0.50308,0.47803,0.4559,0.43611,0.41822,0.40193,0.387,0.37325,0.36052,0.34871,0.33772,0.32748,0.31793,0.30901,0.30069,0.29293,0.2857,0.27899,0.27277,0.26702,0.26174,0.2569,0.2525,0.24851,0.24494,0.24175,0.23893,0.23646,0.23433,0.23251,0.23098,0.22972,0.22871,0.22792,0.22733,0.22693,0.22669,0.22659,0.22663,0.22678,0.22704,0.22738,0.2278,0.22829],
[0.65818,0.61852,0.58421,0.55393,0.52681,0.50225,0.47979,0.4591,0.43994,0.42211,0.40544,0.38981,0.37513,0.36132,0.34832,0.33607,0.32456,0.31374,0.30361,0.29416,0.2854,0.27732,0.26995,0.26328,0.25733,0.2521,0.24758,0.24376,0.24061,0.23809,0.23616,0.23477,0.23385,0.23336,0.23324,0.23344,0.2339,0.2346,0.23548,0.23653,0.23771,0.239,0.24038,0.24183,0.24334,0.24489]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
