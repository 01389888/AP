Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.65587,0.60921,0.56925,0.53424,0.50305,0.47488,0.44917,0.4255,0.40355,0.38306,0.36385,0.34574,0.32861,0.31235,0.29687,0.28212,0.26803,0.25457,0.24171,0.22944,0.21779,0.20677,0.19646,0.18696,0.17838,0.17088,0.16461,0.1597,0.1562,0.15404,0.15309,0.15314,0.15399,0.15544,0.15734,0.15956,0.16201,0.16461,0.16732,0.17009,0.17289,0.17571,0.17852,0.18132,0.18409,0.18683],
[0.82369,0.76126,0.70767,0.66063,0.61865,0.58068,0.54598,0.514,0.48431,0.45657,0.43053,0.40597,0.38274,0.36068,0.3397,0.31973,0.30071,0.28263,0.26552,0.24946,0.23462,0.22125,0.20978,0.20071,0.19461,0.1918,0.19215,0.19513,0.2,0.20611,0.21296,0.2202,0.22763,0.23509,0.2425,0.24981,0.25698,0.26399,0.27084,0.27751,0.28401,0.29034,0.29651,0.30251,0.30835,0.31404],
[0.68941,0.64093,0.59946,0.56319,0.53093,0.50187,0.47542,0.45115,0.42872,0.40789,0.38844,0.37024,0.35314,0.33707,0.32194,0.30771,0.29435,0.28185,0.27022,0.2595,0.24974,0.24102,0.23341,0.22702,0.22191,0.21812,0.21565,0.21441,0.21428,0.2151,0.2167,0.21892,0.22161,0.22466,0.22796,0.23144,0.23504,0.23871,0.24242,0.24614,0.24985,0.25353,0.25718,0.26078,0.26433,0.26783],
[0.62305,0.58261,0.54821,0.51828,0.49179,0.46806,0.44657,0.42698,0.40898,0.39238,0.37699,0.36271,0.3494,0.33701,0.32546,0.31471,0.30471,0.29545,0.2869,0.27906,0.27192,0.26547,0.25972,0.25466,0.25029,0.24658,0.24351,0.24106,0.23918,0.23782,0.23695,0.2365,0.23643,0.23669,0.23723,0.23801,0.23898,0.24013,0.24141,0.24281,0.2443,0.24586,0.24748,0.24914,0.25084,0.25256],
[0.56955,0.53502,0.50581,0.48052,0.45827,0.43844,0.42059,0.40438,0.38959,0.37603,0.36353,0.352,0.34133,0.33144,0.32228,0.31379,0.30594,0.29868,0.29199,0.28584,0.28021,0.27508,0.27042,0.26622,0.26247,0.25913,0.25618,0.25361,0.2514,0.24951,0.24793,0.24662,0.24557,0.24475,0.24415,0.24373,0.24348,0.24339,0.24343,0.24358,0.24385,0.2442,0.24463,0.24514,0.2457,0.24632],
[0.54546,0.51483,0.48906,0.46686,0.44741,0.43015,0.41467,0.40067,0.38794,0.37629,0.36558,0.35571,0.34659,0.33815,0.33031,0.32303,0.31627,0.30999,0.30415,0.29872,0.29368,0.28901,0.28468,0.28068,0.27698,0.27357,0.27044,0.26756,0.26492,0.26252,0.26032,0.25833,0.25653,0.2549,0.25343,0.25212,0.25094,0.2499,0.24898,0.24817,0.24747,0.24686,0.24634,0.2459,0.24553,0.24523],
[0.46504,0.44335,0.42537,0.4101,0.39688,0.38526,0.37495,0.36571,0.35736,0.34976,0.34283,0.33646,0.33059,0.32516,0.32012,0.31543,0.31106,0.30697,0.30314,0.29955,0.29618,0.29301,0.29002,0.2872,0.28453,0.28202,0.27963,0.27738,0.27524,0.27321,0.27128,0.26945,0.26771,0.26606,0.26448,0.26298,0.26155,0.26019,0.25889,0.25764,0.25646,0.25532,0.25424,0.25321,0.25221,0.25127],
[0.4034,0.38449,0.36901,0.35603,0.34494,0.33533,0.32691,0.31949,0.31288,0.30698,0.30167,0.29689,0.29256,0.28863,0.28506,0.2818,0.27883,0.2761,0.27361,0.27132,0.26922,0.26729,0.26552,0.26388,0.26237,0.26098,0.2597,0.25851,0.25742,0.25641,0.25547,0.2546,0.2538,0.25306,0.25237,0.25174,0.25115,0.2506,0.2501,0.24963,0.2492,0.24879,0.24842,0.24808,0.24776,0.24747],
[0.57857,0.54385,0.51437,0.48876,0.46615,0.44592,0.42763,0.41098,0.39572,0.38165,0.36864,0.35656,0.34532,0.33485,0.32508,0.31595,0.30744,0.2995,0.29211,0.28524,0.27887,0.27299,0.26757,0.26262,0.25811,0.25403,0.25036,0.24709,0.24421,0.24168,0.23949,0.23763,0.23606,0.23477,0.23373,0.23292,0.23232,0.2319,0.23166,0.23156,0.2316,0.23176,0.23202,0.23237,0.2328,0.23331],
[0.66241,0.62256,0.58808,0.55765,0.5304,0.50571,0.48313,0.46234,0.44308,0.42514,0.40838,0.39266,0.3779,0.36401,0.35092,0.3386,0.327,0.3161,0.30589,0.29637,0.28752,0.27936,0.2719,0.26515,0.25912,0.2538,0.2492,0.2453,0.24207,0.23949,0.23749,0.23604,0.23507,0.23454,0.23438,0.23454,0.23498,0.23566,0.23653,0.23757,0.23874,0.24003,0.2414,0.24285,0.24436,0.24592]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
