Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.76966,0.71494,0.66806,0.62696,0.59032,0.55722,0.527,0.49917,0.47334,0.44923,0.42659,0.40525,0.38505,0.36585,0.34757,0.33012,0.31342,0.29743,0.28212,0.26747,0.25348,0.24018,0.22764,0.21595,0.20526,0.19575,0.18765,0.18116,0.17639,0.17335,0.1719,0.17178,0.17272,0.17447,0.17681,0.17956,0.1826,0.18584,0.1892,0.19263,0.1961,0.19958,0.20305,0.20649,0.2099,0.21327],
[0.98939,0.91444,0.85008,0.79358,0.74315,0.69753,0.65584,0.61741,0.58172,0.54837,0.51706,0.48752,0.45956,0.433,0.40773,0.38364,0.36068,0.33881,0.31806,0.29851,0.28034,0.26384,0.24947,0.23786,0.22974,0.22562,0.22549,0.22873,0.23444,0.24177,0.25007,0.25889,0.26794,0.27705,0.28609,0.29501,0.30375,0.3123,0.32064,0.32877,0.33669,0.3444,0.3519,0.3592,0.3663,0.37322],
[0.72634,0.67561,0.63225,0.59435,0.56067,0.53034,0.50276,0.47746,0.45411,0.43244,0.41223,0.39334,0.37562,0.35899,0.34337,0.32872,0.31499,0.30219,0.29032,0.27943,0.26955,0.26076,0.25313,0.24673,0.24162,0.23781,0.23528,0.23394,0.23367,0.23432,0.23573,0.23777,0.24028,0.24316,0.24631,0.24965,0.25314,0.25671,0.26034,0.26398,0.26764,0.27128,0.27489,0.27846,0.282,0.28548],
[0.63798,0.59681,0.5618,0.53134,0.5044,0.48027,0.45843,0.43851,0.42023,0.40336,0.38775,0.37324,0.35974,0.34717,0.33546,0.32455,0.31441,0.30501,0.29634,0.28838,0.28111,0.27455,0.26868,0.26349,0.25898,0.25513,0.25192,0.24931,0.24728,0.24577,0.24474,0.24414,0.24393,0.24404,0.24445,0.2451,0.24596,0.247,0.24818,0.24949,0.25089,0.25238,0.25393,0.25553,0.25717,0.25884],
[0.57245,0.53808,0.50902,0.48386,0.46173,0.442,0.42423,0.40812,0.3934,0.37989,0.36745,0.35595,0.34531,0.33544,0.32629,0.31779,0.30992,0.30263,0.29588,0.28967,0.28395,0.27872,0.27395,0.26962,0.26572,0.26222,0.25911,0.25637,0.25396,0.25189,0.25011,0.24861,0.24737,0.24636,0.24557,0.24497,0.24455,0.24429,0.24417,0.24417,0.24428,0.2445,0.2448,0.24517,0.24562,0.24612],
[0.52772,0.49835,0.47364,0.45236,0.4337,0.41714,0.40228,0.38883,0.37659,0.36539,0.35508,0.34558,0.33678,0.32863,0.32105,0.314,0.30744,0.30134,0.29565,0.29035,0.28541,0.28083,0.27656,0.2726,0.26893,0.26554,0.2624,0.25951,0.25684,0.25439,0.25215,0.2501,0.24823,0.24653,0.24499,0.24359,0.24234,0.24121,0.24021,0.23931,0.23852,0.23782,0.23721,0.23668,0.23623,0.23584],
[0.43778,0.41767,0.401,0.38682,0.37455,0.36376,0.35417,0.34557,0.33779,0.33071,0.32424,0.31828,0.31279,0.3077,0.30297,0.29856,0.29444,0.29059,0.28697,0.28357,0.28037,0.27735,0.2745,0.27181,0.26926,0.26684,0.26455,0.26237,0.26031,0.25834,0.25647,0.25468,0.25299,0.25136,0.24982,0.24834,0.24693,0.24557,0.24428,0.24305,0.24186,0.24073,0.23964,0.23859,0.23759,0.23663],
[0.39211,0.3741,0.35939,0.34707,0.33655,0.32746,0.3195,0.31248,0.30624,0.30067,0.29566,0.29115,0.28706,0.28335,0.27997,0.27689,0.27407,0.27149,0.26912,0.26694,0.26494,0.26309,0.26139,0.25982,0.25836,0.25702,0.25577,0.25461,0.25354,0.25255,0.25162,0.25076,0.24996,0.24922,0.24853,0.24788,0.24728,0.24672,0.24619,0.24571,0.24525,0.24483,0.24443,0.24406,0.24371,0.24339],
[0.53938,0.50674,0.47904,0.45498,0.43374,0.41475,0.39759,0.38197,0.36766,0.35448,0.34229,0.33098,0.32048,0.31069,0.30157,0.29307,0.28515,0.27778,0.27093,0.26458,0.25871,0.25332,0.24837,0.24386,0.23977,0.2361,0.23282,0.22992,0.22738,0.22517,0.22329,0.2217,0.22038,0.21932,0.21849,0.21786,0.21743,0.21716,0.21704,0.21705,0.21718,0.21741,0.21773,0.21814,0.21861,0.21914],
[0.57783,0.54166,0.51046,0.48301,0.45848,0.4363,0.41605,0.39744,0.38021,0.3642,0.34926,0.33528,0.32217,0.30986,0.29829,0.28744,0.27726,0.26775,0.25889,0.25069,0.24316,0.2363,0.23012,0.22464,0.21986,0.21577,0.21235,0.20959,0.20743,0.20584,0.20475,0.2041,0.20385,0.20393,0.20429,0.2049,0.2057,0.20667,0.20777,0.20898,0.21028,0.21165,0.21308,0.21454,0.21604,0.21757]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
