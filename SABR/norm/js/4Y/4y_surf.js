Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.75659,0.70264,0.65641,0.6159,0.57978,0.54715,0.51735,0.48991,0.46445,0.44068,0.41836,0.39733,0.37741,0.35849,0.34047,0.32327,0.30682,0.29108,0.27601,0.2616,0.24786,0.23482,0.22256,0.21117,0.20083,0.19171,0.18404,0.178,0.17369,0.17108,0.16998,0.17014,0.17129,0.17318,0.17561,0.17842,0.18149,0.18473,0.18808,0.19149,0.19493,0.19837,0.2018,0.20519,0.20855,0.21187],
[0.962,0.88898,0.82628,0.77124,0.7221,0.67767,0.63705,0.5996,0.56483,0.53234,0.50183,0.47306,0.44581,0.41994,0.39533,0.37186,0.3495,0.32822,0.30804,0.28905,0.27144,0.2555,0.24171,0.23072,0.22322,0.21967,0.21998,0.2235,0.22933,0.23666,0.24486,0.25352,0.26238,0.27128,0.2801,0.28879,0.29731,0.30563,0.31375,0.32166,0.32936,0.33686,0.34415,0.35125,0.35816,0.36489],
[0.7468,0.69458,0.64996,0.61095,0.57628,0.54507,0.51668,0.49064,0.46661,0.44431,0.42352,0.40408,0.38586,0.36876,0.3527,0.33763,0.32353,0.31038,0.29821,0.28704,0.27694,0.26796,0.2602,0.25371,0.24855,0.24475,0.24225,0.24097,0.24079,0.24154,0.24307,0.24522,0.24786,0.25086,0.25413,0.2576,0.2612,0.26489,0.26863,0.27239,0.27616,0.27991,0.28363,0.28731,0.29095,0.29453],
[0.64274,0.60112,0.56573,0.53495,0.50773,0.48335,0.4613,0.44118,0.42273,0.40571,0.38995,0.37533,0.36173,0.34907,0.33729,0.32633,0.31615,0.30674,0.29807,0.29013,0.28291,0.27641,0.27062,0.26553,0.26113,0.2574,0.25433,0.25186,0.24996,0.24859,0.24769,0.24722,0.24712,0.24734,0.24784,0.24859,0.24953,0.25064,0.25189,0.25325,0.25471,0.25625,0.25784,0.25948,0.26115,0.26286],
[0.57934,0.54445,0.51494,0.48942,0.46696,0.44695,0.42895,0.41261,0.39771,0.38404,0.37146,0.35984,0.34909,0.33914,0.32992,0.32137,0.31346,0.30614,0.29939,0.29318,0.28749,0.28229,0.27756,0.27329,0.26945,0.26602,0.26298,0.26031,0.25799,0.25599,0.2543,0.25288,0.25171,0.25078,0.25006,0.24953,0.24917,0.24896,0.24889,0.24895,0.24911,0.24936,0.2497,0.25012,0.2506,0.25113],
[0.53953,0.50947,0.48417,0.46239,0.44331,0.42638,0.41119,0.39746,0.38496,0.37352,0.36301,0.35332,0.34436,0.33606,0.32835,0.32119,0.31452,0.30832,0.30255,0.29718,0.29219,0.28755,0.28324,0.27925,0.27555,0.27213,0.26897,0.26606,0.26338,0.26093,0.25868,0.25663,0.25476,0.25306,0.25152,0.25013,0.24888,0.24776,0.24676,0.24586,0.24508,0.24438,0.24378,0.24325,0.2428,0.24242],
[0.43518,0.41527,0.39877,0.38475,0.37261,0.36194,0.35246,0.34395,0.33626,0.32926,0.32286,0.31697,0.31154,0.30651,0.30183,0.29747,0.29339,0.28957,0.28599,0.28262,0.27945,0.27646,0.27364,0.27096,0.26843,0.26603,0.26376,0.26159,0.25954,0.25758,0.25572,0.25394,0.25224,0.25062,0.24908,0.2476,0.24619,0.24484,0.24354,0.2423,0.24111,0.23997,0.23888,0.23783,0.23682,0.23585],
[0.40921,0.39031,0.37486,0.36192,0.35087,0.34131,0.33294,0.32556,0.31899,0.31312,0.30785,0.30309,0.29878,0.29487,0.29131,0.28806,0.28508,0.28236,0.27986,0.27756,0.27544,0.27349,0.27169,0.27003,0.2685,0.26707,0.26576,0.26454,0.2634,0.26235,0.26138,0.26047,0.25963,0.25884,0.25811,0.25743,0.2568,0.25621,0.25566,0.25514,0.25466,0.25422,0.2538,0.25341,0.25305,0.25271],
[0.53044,0.49847,0.47132,0.44775,0.42693,0.40831,0.39149,0.37617,0.36213,0.3492,0.33723,0.32613,0.3158,0.30618,0.2972,0.28883,0.28102,0.27374,0.26696,0.26067,0.25484,0.24946,0.24452,0.24001,0.2359,0.23219,0.22887,0.22591,0.22331,0.22104,0.21908,0.21742,0.21603,0.21489,0.21398,0.21328,0.21277,0.21244,0.21225,0.2122,0.21227,0.21245,0.21272,0.21307,0.2135,0.21399],
[0.65194,0.61178,0.57707,0.54647,0.51908,0.49427,0.47161,0.45074,0.43141,0.41343,0.39662,0.38087,0.36607,0.35216,0.33906,0.32674,0.31516,0.3043,0.29415,0.28471,0.27599,0.26799,0.26074,0.25424,0.24852,0.24356,0.23937,0.23591,0.23316,0.23107,0.22958,0.22862,0.22814,0.22806,0.22834,0.22891,0.22973,0.23076,0.23196,0.23329,0.23474,0.23628,0.23789,0.23955,0.24126,0.243]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
