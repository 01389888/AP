Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.80087,0.74376,0.69481,0.65191,0.61367,0.57911,0.54757,0.51851,0.49154,0.46637,0.44274,0.42046,0.39937,0.37933,0.36025,0.34203,0.32461,0.30794,0.29198,0.27672,0.26217,0.24837,0.23539,0.22335,0.21242,0.20279,0.19471,0.18836,0.18386,0.18114,0.18002,0.18024,0.18149,0.18352,0.18611,0.1891,0.19236,0.19581,0.19936,0.20298,0.20663,0.21027,0.21391,0.21751,0.22107,0.22459],
[0.97138,0.89756,0.83418,0.77854,0.72887,0.68394,0.64288,0.60503,0.56988,0.53703,0.50619,0.4771,0.44956,0.42341,0.39852,0.37481,0.35222,0.33071,0.31034,0.29118,0.27343,0.25741,0.24362,0.23271,0.22538,0.22208,0.22267,0.22644,0.23249,0.23999,0.24834,0.25714,0.26612,0.27513,0.28405,0.29283,0.30144,0.30985,0.31805,0.32604,0.33382,0.34138,0.34875,0.35592,0.3629,0.36969],
[0.7543,0.70149,0.65636,0.61691,0.58185,0.55028,0.52157,0.49525,0.47095,0.4484,0.42738,0.40773,0.38931,0.37202,0.3558,0.34058,0.32634,0.31308,0.30081,0.28957,0.27942,0.27042,0.26265,0.25619,0.2511,0.24736,0.24496,0.24378,0.2437,0.24456,0.24618,0.24842,0.25114,0.25422,0.25756,0.26109,0.26476,0.26851,0.2723,0.27612,0.27993,0.28373,0.28749,0.29122,0.2949,0.29852],
[0.65224,0.61,0.57408,0.54284,0.51521,0.49046,0.46807,0.44765,0.42892,0.41165,0.39566,0.38081,0.36701,0.35416,0.3422,0.33107,0.32075,0.31119,0.30239,0.29434,0.28701,0.28041,0.27454,0.26938,0.26492,0.26114,0.25802,0.25553,0.25361,0.25222,0.25132,0.25084,0.25075,0.25098,0.25149,0.25225,0.25321,0.25434,0.25562,0.257,0.25849,0.26005,0.26167,0.26333,0.26504,0.26677],
[0.58331,0.54819,0.5185,0.49282,0.47022,0.45009,0.43196,0.41553,0.40052,0.38676,0.37409,0.3624,0.35158,0.34155,0.33226,0.32365,0.31567,0.3083,0.30149,0.29523,0.28948,0.28423,0.27946,0.27514,0.27125,0.26778,0.2647,0.262,0.25964,0.25761,0.25589,0.25444,0.25325,0.2523,0.25156,0.25101,0.25063,0.25041,0.25033,0.25038,0.25053,0.25078,0.25112,0.25153,0.252,0.25254],
[0.51372,0.48511,0.46103,0.4403,0.42213,0.406,0.39154,0.37846,0.36656,0.35566,0.34565,0.33642,0.32788,0.31996,0.31261,0.30578,0.29943,0.29351,0.28801,0.28288,0.27812,0.27369,0.26957,0.26576,0.26222,0.25895,0.25593,0.25315,0.25059,0.24824,0.24609,0.24413,0.24234,0.24071,0.23924,0.23791,0.23671,0.23563,0.23467,0.23382,0.23306,0.2324,0.23182,0.23131,0.23088,0.23052],
[0.44663,0.42616,0.40919,0.39478,0.3823,0.37133,0.36158,0.35284,0.34493,0.33774,0.33116,0.32511,0.31952,0.31435,0.30954,0.30506,0.30087,0.29695,0.29326,0.2898,0.28655,0.28347,0.28057,0.27783,0.27523,0.27276,0.27043,0.2682,0.26609,0.26408,0.26217,0.26035,0.25861,0.25695,0.25536,0.25385,0.2524,0.25102,0.24969,0.24842,0.2472,0.24603,0.24491,0.24384,0.24281,0.24182],
[0.40249,0.38392,0.36874,0.35602,0.34516,0.33576,0.32754,0.32028,0.31383,0.30806,0.30288,0.29821,0.29397,0.29013,0.28663,0.28344,0.28052,0.27784,0.27538,0.27313,0.27105,0.26913,0.26737,0.26574,0.26423,0.26283,0.26154,0.26035,0.25924,0.25821,0.25725,0.25636,0.25553,0.25476,0.25405,0.25338,0.25276,0.25218,0.25165,0.25114,0.25067,0.25024,0.24983,0.24945,0.2491,0.24876],
[0.54015,0.50758,0.47992,0.4559,0.43469,0.41572,0.39858,0.38297,0.36867,0.35549,0.3433,0.33198,0.32146,0.31166,0.30252,0.29399,0.28603,0.27861,0.27172,0.26531,0.25938,0.25392,0.24889,0.24431,0.24014,0.23637,0.233,0.23001,0.22737,0.22508,0.2231,0.22142,0.22003,0.21888,0.21798,0.21728,0.21678,0.21645,0.21628,0.21624,0.21632,0.21652,0.2168,0.21717,0.21762,0.21812],
[0.64177,0.60214,0.5679,0.53772,0.51071,0.48626,0.46391,0.44335,0.4243,0.40657,0.39002,0.3745,0.35993,0.34623,0.33334,0.32122,0.30983,0.29915,0.28918,0.27991,0.27136,0.26352,0.25643,0.25008,0.2445,0.23968,0.23561,0.23226,0.22961,0.22761,0.22619,0.22529,0.22485,0.22481,0.22511,0.2257,0.22653,0.22756,0.22875,0.23008,0.23151,0.23303,0.23462,0.23626,0.23794,0.23966]]


var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
