Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/api_docs/mt_bruno_elevation.csv', function(err, rows){
function unpack(rows, key) {
  return rows.map(function(row) { return row[key]; });
}

var z_data=[[0.51874,0.48095,0.44858,0.42022,0.39494,0.37211,0.35126,0.33207,0.31426,0.29764,0.28204,0.26734,0.25343,0.24023,0.22767,0.21571,0.2043,0.19342,0.18306,0.17325,0.16401,0.1554,0.14754,0.14053,0.13455,0.12972,0.12615,0.12385,0.1227,0.12254,0.12316,0.12437,0.12601,0.12796,0.13012,0.13242,0.1348,0.13724,0.1397,0.14216,0.14462,0.14705,0.14946,0.15184,0.15418,0.15648],
[0.64562,0.59608,0.55355,0.51622,0.48289,0.45274,0.42519,0.39979,0.37619,0.35415,0.33345,0.31393,0.29545,0.2779,0.26121,0.24533,0.23021,0.21586,0.20232,0.18968,0.17811,0.1679,0.15946,0.15329,0.1498,0.1491,0.15084,0.15442,0.1592,0.16471,0.17062,0.17671,0.18284,0.18894,0.19495,0.20084,0.2066,0.21222,0.21769,0.22301,0.22819,0.23322,0.23812,0.24289,0.24753,0.25204],
[0.58345,0.54281,0.50808,0.47772,0.45073,0.42644,0.40434,0.38407,0.36537,0.348,0.33181,0.31666,0.30246,0.28913,0.2766,0.26483,0.2538,0.2435,0.23394,0.22514,0.21713,0.20998,0.20373,0.19845,0.19418,0.19094,0.18872,0.18745,0.18706,0.18743,0.18843,0.18995,0.19187,0.1941,0.19656,0.19919,0.20195,0.20478,0.20766,0.21056,0.21348,0.21638,0.21927,0.22213,0.22496,0.22775],
[0.55542,0.51965,0.48923,0.46277,0.43936,0.41839,0.39941,0.3821,0.36621,0.35155,0.33797,0.32536,0.31362,0.30268,0.29248,0.28297,0.27413,0.26593,0.25835,0.25138,0.24501,0.23924,0.23407,0.22949,0.22548,0.22205,0.21917,0.21682,0.21496,0.21357,0.21259,0.212,0.21174,0.21178,0.21207,0.21259,0.21329,0.21415,0.21514,0.21625,0.21744,0.21871,0.22003,0.2214,0.22281,0.22425],
[0.56125,0.52749,0.49894,0.47423,0.4525,0.43312,0.41569,0.39987,0.38543,0.37219,0.35999,0.34872,0.3383,0.32864,0.31969,0.31139,0.30369,0.29658,0.29001,0.28396,0.27841,0.27333,0.26871,0.26452,0.26076,0.25739,0.2544,0.25177,0.24948,0.2475,0.24581,0.2444,0.24323,0.2423,0.24156,0.24102,0.24065,0.24042,0.24033,0.24037,0.2405,0.24074,0.24105,0.24144,0.24189,0.2424],
[0.54363,0.51333,0.48784,0.4659,0.44668,0.42963,0.41433,0.40051,0.38793,0.37642,0.36585,0.3561,0.34709,0.33875,0.331,0.3238,0.31711,0.31088,0.30509,0.2997,0.29469,0.29004,0.28572,0.28171,0.27801,0.27458,0.27142,0.26851,0.26583,0.26337,0.26112,0.25907,0.2572,0.2555,0.25396,0.25257,0.25132,0.2502,0.2492,0.2483,0.24752,0.24682,0.24622,0.24569,0.24524,0.24486],
[0.46759,0.44628,0.42863,0.41365,0.40067,0.38928,0.37916,0.37008,0.36188,0.35441,0.34758,0.3413,0.3355,0.33012,0.32513,0.32047,0.31612,0.31204,0.30821,0.30461,0.30122,0.29802,0.29499,0.29213,0.28942,0.28684,0.2844,0.28207,0.27986,0.27775,0.27575,0.27383,0.272,0.27026,0.26858,0.26699,0.26546,0.26399,0.26259,0.26124,0.25994,0.2587,0.25751,0.25637,0.25526,0.25421],
[0.42057,0.40106,0.38512,0.37175,0.36034,0.35047,0.34182,0.33419,0.32741,0.32134,0.31589,0.31097,0.30651,0.30247,0.29878,0.29542,0.29234,0.28952,0.28693,0.28455,0.28236,0.28034,0.27848,0.27676,0.27517,0.2737,0.27233,0.27107,0.2699,0.26881,0.26781,0.26687,0.266,0.26519,0.26443,0.26373,0.26308,0.26247,0.2619,0.26137,0.26088,0.26042,0.25999,0.25959,0.25922,0.25887],
[0.59539,0.55965,0.52929,0.50292,0.47963,0.45878,0.43995,0.42279,0.40706,0.39256,0.37914,0.36669,0.3551,0.3443,0.33422,0.3248,0.31602,0.30783,0.3002,0.29311,0.28654,0.28047,0.27489,0.26978,0.26512,0.26092,0.25714,0.25378,0.25081,0.24821,0.24597,0.24406,0.24246,0.24114,0.24009,0.23927,0.23867,0.23827,0.23803,0.23796,0.23802,0.2382,0.23849,0.23888,0.23934,0.23988],
[0.69756,0.65497,0.61811,0.58558,0.55644,0.53004,0.50589,0.48364,0.46302,0.44382,0.42586,0.40902,0.3932,0.3783,0.36427,0.35105,0.33861,0.32693,0.316,0.30581,0.29637,0.28769,0.27979,0.27268,0.26639,0.26092,0.25625,0.25238,0.24927,0.24688,0.24514,0.24399,0.24336,0.24319,0.24341,0.24397,0.2448,0.24586,0.24712,0.24853,0.25007,0.25171,0.25343,0.25522,0.25705,0.25892]]

var data = [{
           x: [0.005,0.006,0.007,0.008,0.009,0.01,0.011,0.012,0.013,0.014,0.015,0.016,0.017,0.018,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036,0.037,0.038,0.039,0.04,0.041,0.042,0.043,0.044,0.045,0.046,0.047,0.048,0.049,0.05],
           y: [0.25,0.5,1,2,3,4,5,10,15,30],
           z: z_data,
           type: 'surface'
        }];

var layout = {
  scene: {
                              xaxis:{title: 'Strike (%)'},
                              yaxis:{title: 'Time unitl Maturity (years)'},
                              zaxis:{title: 'Volatility'},
                              },
  title: 'SABR Volatility',
  autosize: false,
  width: 900,
  height: 600,
  margin: {
    l: 65,
    r: 50,
    b: 65,
    t: 90,
  }
};
Plotly.newPlot('myDiv10', data, layout);
});
